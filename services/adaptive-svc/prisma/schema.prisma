generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("POSTGRES_URL")
}

model UserKnowledgeState {
  id         String   @id @default(cuid())
  userId     String
  conceptKey String
  pL0        Float
  pT         Float
  pG         Float
  pS         Float
  updatedAt  DateTime @updatedAt
}

model LearningEvent {
  id          String   @id @default(cuid())
  userId      String
  conceptKey  String
  itemId      String?
  correct     Boolean
  responseMs  Int?
  confidence  Int?     // 1-5
  createdAt   DateTime @default(now())
}
