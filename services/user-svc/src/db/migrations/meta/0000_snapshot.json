{
  "id": "d2ebbfa9-9226-412b-a11a-39157e016232",
  "prevId": "00000000-0000-0000-0000-000000000000",
  "version": "5",
  "dialect": "pg",
  "tables": {
    "achievements": {
      "name": "achievements",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "key": {
          "name": "key",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "xp_reward": {
          "name": "xp_reward",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "badge_icon": {
          "name": "badge_icon",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "requirements": {
          "name": "requirements",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "achievements_key_idx": {
          "name": "achievements_key_idx",
          "columns": [
            "key"
          ],
          "isUnique": true
        },
        "achievements_category_idx": {
          "name": "achievements_category_idx",
          "columns": [
            "category"
          ],
          "isUnique": false
        },
        "achievements_active_idx": {
          "name": "achievements_active_idx",
          "columns": [
            "is_active"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "achievements_key_unique": {
          "name": "achievements_key_unique",
          "nullsNotDistinct": false,
          "columns": [
            "key"
          ]
        }
      }
    },
    "concepts": {
      "name": "concepts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "key": {
          "name": "key",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "content_category",
          "primaryKey": false,
          "notNull": true
        },
        "parent_concept_id": {
          "name": "parent_concept_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "prerequisites": {
          "name": "prerequisites",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "base_difficulty": {
          "name": "base_difficulty",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "default": 0.5
        },
        "estimated_learning_time": {
          "name": "estimated_learning_time",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "concepts_key_idx": {
          "name": "concepts_key_idx",
          "columns": [
            "key"
          ],
          "isUnique": true
        },
        "concepts_category_idx": {
          "name": "concepts_category_idx",
          "columns": [
            "category"
          ],
          "isUnique": false
        },
        "concepts_parent_idx": {
          "name": "concepts_parent_idx",
          "columns": [
            "parent_concept_id"
          ],
          "isUnique": false
        },
        "concepts_difficulty_idx": {
          "name": "concepts_difficulty_idx",
          "columns": [
            "base_difficulty"
          ],
          "isUnique": false
        },
        "concepts_active_idx": {
          "name": "concepts_active_idx",
          "columns": [
            "is_active"
          ],
          "isUnique": false
        },
        "concepts_prerequisites_idx": {
          "name": "concepts_prerequisites_idx",
          "columns": [
            "prerequisites"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "concepts_key_unique": {
          "name": "concepts_key_unique",
          "nullsNotDistinct": false,
          "columns": [
            "key"
          ]
        }
      }
    },
    "content": {
      "name": "content",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "concept_id": {
          "name": "concept_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "body": {
          "name": "body",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "content_category",
          "primaryKey": false,
          "notNull": true
        },
        "difficulty": {
          "name": "difficulty",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "discrimination": {
          "name": "discrimination",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "guess_parameter": {
          "name": "guess_parameter",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "default": 0.25
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "parent_content_id": {
          "name": "parent_content_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "total_attempts": {
          "name": "total_attempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "correct_attempts": {
          "name": "correct_attempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "average_response_time": {
          "name": "average_response_time",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "content_concept_idx": {
          "name": "content_concept_idx",
          "columns": [
            "concept_id"
          ],
          "isUnique": false
        },
        "content_category_difficulty_idx": {
          "name": "content_category_difficulty_idx",
          "columns": [
            "category",
            "difficulty"
          ],
          "isUnique": false
        },
        "content_active_idx": {
          "name": "content_active_idx",
          "columns": [
            "is_active"
          ],
          "isUnique": false
        },
        "content_version_idx": {
          "name": "content_version_idx",
          "columns": [
            "parent_content_id",
            "version"
          ],
          "isUnique": false
        },
        "content_performance_idx": {
          "name": "content_performance_idx",
          "columns": [
            "total_attempts",
            "correct_attempts"
          ],
          "isUnique": false
        },
        "content_metadata_idx": {
          "name": "content_metadata_idx",
          "columns": [
            "metadata"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "content_concept_id_concepts_id_fk": {
          "name": "content_concept_id_concepts_id_fk",
          "tableFrom": "content",
          "tableTo": "concepts",
          "columnsFrom": [
            "concept_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "friendships": {
      "name": "friendships",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "requester_id": {
          "name": "requester_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "addressee_id": {
          "name": "addressee_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "friendships_requester_addressee_idx": {
          "name": "friendships_requester_addressee_idx",
          "columns": [
            "requester_id",
            "addressee_id"
          ],
          "isUnique": true
        },
        "friendships_addressee_requester_idx": {
          "name": "friendships_addressee_requester_idx",
          "columns": [
            "addressee_id",
            "requester_id"
          ],
          "isUnique": false
        },
        "friendships_status_idx": {
          "name": "friendships_status_idx",
          "columns": [
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "friendships_requester_id_users_id_fk": {
          "name": "friendships_requester_id_users_id_fk",
          "tableFrom": "friendships",
          "tableTo": "users",
          "columnsFrom": [
            "requester_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "friendships_addressee_id_users_id_fk": {
          "name": "friendships_addressee_id_users_id_fk",
          "tableFrom": "friendships",
          "tableTo": "users",
          "columnsFrom": [
            "addressee_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "knowledge_states": {
      "name": "knowledge_states",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "concept_id": {
          "name": "concept_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "initial_knowledge": {
          "name": "initial_knowledge",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "default": 0.1
        },
        "learning_rate": {
          "name": "learning_rate",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "default": 0.3
        },
        "guess_parameter": {
          "name": "guess_parameter",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "default": 0.25
        },
        "slip_parameter": {
          "name": "slip_parameter",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "default": 0.1
        },
        "mastery_probability": {
          "name": "mastery_probability",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "default": 0.1
        },
        "temporal_decay": {
          "name": "temporal_decay",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "default": 0.95
        },
        "last_interaction": {
          "name": "last_interaction",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "interaction_count": {
          "name": "interaction_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "correct_count": {
          "name": "correct_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "personal_learning_velocity": {
          "name": "personal_learning_velocity",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "confidence_level": {
          "name": "confidence_level",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "default": 0.5
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "knowledge_states_user_concept_idx": {
          "name": "knowledge_states_user_concept_idx",
          "columns": [
            "user_id",
            "concept_id"
          ],
          "isUnique": true
        },
        "knowledge_states_mastery_idx": {
          "name": "knowledge_states_mastery_idx",
          "columns": [
            "mastery_probability"
          ],
          "isUnique": false
        },
        "knowledge_states_user_mastery_idx": {
          "name": "knowledge_states_user_mastery_idx",
          "columns": [
            "user_id",
            "mastery_probability"
          ],
          "isUnique": false
        },
        "knowledge_states_last_interaction_idx": {
          "name": "knowledge_states_last_interaction_idx",
          "columns": [
            "last_interaction"
          ],
          "isUnique": false
        },
        "knowledge_states_concept_mastery_idx": {
          "name": "knowledge_states_concept_mastery_idx",
          "columns": [
            "concept_id",
            "mastery_probability"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "knowledge_states_user_id_users_id_fk": {
          "name": "knowledge_states_user_id_users_id_fk",
          "tableFrom": "knowledge_states",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "knowledge_states_concept_id_concepts_id_fk": {
          "name": "knowledge_states_concept_id_concepts_id_fk",
          "tableFrom": "knowledge_states",
          "tableTo": "concepts",
          "columnsFrom": [
            "concept_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "learning_events": {
      "name": "learning_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "session_id": {
          "name": "session_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "event_type",
          "primaryKey": false,
          "notNull": true
        },
        "concept_id": {
          "name": "concept_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "content_id": {
          "name": "content_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "response_data": {
          "name": "response_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "context_data": {
          "name": "context_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "processing_status": {
          "name": "processing_status",
          "type": "processing_status",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "processed_at": {
          "name": "processed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "session_position": {
          "name": "session_position",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "cumulative_time": {
          "name": "cumulative_time",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "learning_events_user_timestamp_idx": {
          "name": "learning_events_user_timestamp_idx",
          "columns": [
            "user_id",
            "timestamp"
          ],
          "isUnique": false
        },
        "learning_events_session_idx": {
          "name": "learning_events_session_idx",
          "columns": [
            "session_id"
          ],
          "isUnique": false
        },
        "learning_events_event_type_idx": {
          "name": "learning_events_event_type_idx",
          "columns": [
            "event_type"
          ],
          "isUnique": false
        },
        "learning_events_processing_idx": {
          "name": "learning_events_processing_idx",
          "columns": [
            "processing_status"
          ],
          "isUnique": false
        },
        "learning_events_concept_event_idx": {
          "name": "learning_events_concept_event_idx",
          "columns": [
            "concept_id",
            "event_type"
          ],
          "isUnique": false
        },
        "learning_events_timestamp_partition_idx": {
          "name": "learning_events_timestamp_partition_idx",
          "columns": [
            "timestamp"
          ],
          "isUnique": false
        },
        "learning_events_response_data_idx": {
          "name": "learning_events_response_data_idx",
          "columns": [
            "response_data"
          ],
          "isUnique": false
        },
        "learning_events_context_data_idx": {
          "name": "learning_events_context_data_idx",
          "columns": [
            "context_data"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "learning_events_user_id_users_id_fk": {
          "name": "learning_events_user_id_users_id_fk",
          "tableFrom": "learning_events",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "learning_events_concept_id_concepts_id_fk": {
          "name": "learning_events_concept_id_concepts_id_fk",
          "tableFrom": "learning_events",
          "tableTo": "concepts",
          "columnsFrom": [
            "concept_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "learning_events_content_id_content_id_fk": {
          "name": "learning_events_content_id_content_id_fk",
          "tableFrom": "learning_events",
          "tableTo": "content",
          "columnsFrom": [
            "content_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "notifications": {
      "name": "notifications",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "notification_type",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "body": {
          "name": "body",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "data": {
          "name": "data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "scheduled_for": {
          "name": "scheduled_for",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "sent_at": {
          "name": "sent_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "read_at": {
          "name": "read_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "is_read": {
          "name": "is_read",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "delivery_status": {
          "name": "delivery_status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "notifications_user_idx": {
          "name": "notifications_user_idx",
          "columns": [
            "user_id",
            "created_at"
          ],
          "isUnique": false
        },
        "notifications_scheduled_idx": {
          "name": "notifications_scheduled_idx",
          "columns": [
            "scheduled_for"
          ],
          "isUnique": false
        },
        "notifications_unread_idx": {
          "name": "notifications_unread_idx",
          "columns": [
            "user_id",
            "is_read"
          ],
          "isUnique": false
        },
        "notifications_delivery_status_idx": {
          "name": "notifications_delivery_status_idx",
          "columns": [
            "delivery_status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "notifications_user_id_users_id_fk": {
          "name": "notifications_user_id_users_id_fk",
          "tableFrom": "notifications",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "spaced_repetition": {
      "name": "spaced_repetition",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "concept_id": {
          "name": "concept_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "interval": {
          "name": "interval",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "repetition": {
          "name": "repetition",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "ease_factor": {
          "name": "ease_factor",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "default": 2.5
        },
        "next_review": {
          "name": "next_review",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "last_review": {
          "name": "last_review",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "quality": {
          "name": "quality",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "spaced_repetition_user_concept_idx": {
          "name": "spaced_repetition_user_concept_idx",
          "columns": [
            "user_id",
            "concept_id"
          ],
          "isUnique": true
        },
        "spaced_repetition_next_review_idx": {
          "name": "spaced_repetition_next_review_idx",
          "columns": [
            "next_review"
          ],
          "isUnique": false
        },
        "spaced_repetition_user_next_review_idx": {
          "name": "spaced_repetition_user_next_review_idx",
          "columns": [
            "user_id",
            "next_review"
          ],
          "isUnique": false
        },
        "spaced_repetition_active_idx": {
          "name": "spaced_repetition_active_idx",
          "columns": [
            "is_active",
            "next_review"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "spaced_repetition_user_id_users_id_fk": {
          "name": "spaced_repetition_user_id_users_id_fk",
          "tableFrom": "spaced_repetition",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "spaced_repetition_concept_id_concepts_id_fk": {
          "name": "spaced_repetition_concept_id_concepts_id_fk",
          "tableFrom": "spaced_repetition",
          "tableTo": "concepts",
          "columnsFrom": [
            "concept_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "user_achievements": {
      "name": "user_achievements",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "achievement_id": {
          "name": "achievement_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "progress": {
          "name": "progress",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "is_completed": {
          "name": "is_completed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "user_achievements_user_achievement_idx": {
          "name": "user_achievements_user_achievement_idx",
          "columns": [
            "user_id",
            "achievement_id"
          ],
          "isUnique": true
        },
        "user_achievements_user_completed_idx": {
          "name": "user_achievements_user_completed_idx",
          "columns": [
            "user_id",
            "is_completed"
          ],
          "isUnique": false
        },
        "user_achievements_completed_at_idx": {
          "name": "user_achievements_completed_at_idx",
          "columns": [
            "completed_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "user_achievements_user_id_users_id_fk": {
          "name": "user_achievements_user_id_users_id_fk",
          "tableFrom": "user_achievements",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "user_achievements_achievement_id_achievements_id_fk": {
          "name": "user_achievements_achievement_id_achievements_id_fk",
          "tableFrom": "user_achievements",
          "tableTo": "achievements",
          "columnsFrom": [
            "achievement_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "user_sessions": {
      "name": "user_sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "session_id": {
          "name": "session_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "start_time": {
          "name": "start_time",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "end_time": {
          "name": "end_time",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "duration": {
          "name": "duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "questions_attempted": {
          "name": "questions_attempted",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "questions_correct": {
          "name": "questions_correct",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "xp_earned": {
          "name": "xp_earned",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "concepts_studied": {
          "name": "concepts_studied",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "device_info": {
          "name": "device_info",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "is_completed": {
          "name": "is_completed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "user_sessions_user_idx": {
          "name": "user_sessions_user_idx",
          "columns": [
            "user_id",
            "start_time"
          ],
          "isUnique": false
        },
        "user_sessions_session_id_idx": {
          "name": "user_sessions_session_id_idx",
          "columns": [
            "session_id"
          ],
          "isUnique": true
        },
        "user_sessions_completed_idx": {
          "name": "user_sessions_completed_idx",
          "columns": [
            "is_completed",
            "end_time"
          ],
          "isUnique": false
        },
        "user_sessions_performance_idx": {
          "name": "user_sessions_performance_idx",
          "columns": [
            "questions_attempted",
            "questions_correct"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "user_sessions_user_id_users_id_fk": {
          "name": "user_sessions_user_id_users_id_fk",
          "tableFrom": "user_sessions",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "user_sessions_session_id_unique": {
          "name": "user_sessions_session_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "session_id"
          ]
        }
      }
    },
    "users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "password_hash": {
          "name": "password_hash",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "first_name": {
          "name": "first_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "last_name": {
          "name": "last_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "date_of_birth": {
          "name": "date_of_birth",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "cognitive_patterns": {
          "name": "cognitive_patterns",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "learning_preferences": {
          "name": "learning_preferences",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "total_xp": {
          "name": "total_xp",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "current_streak": {
          "name": "current_streak",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "longest_streak": {
          "name": "longest_streak",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "last_active_at": {
          "name": "last_active_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "email_verified": {
          "name": "email_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "users_email_idx": {
          "name": "users_email_idx",
          "columns": [
            "email"
          ],
          "isUnique": true
        },
        "users_cognitive_idx": {
          "name": "users_cognitive_idx",
          "columns": [
            "cognitive_patterns"
          ],
          "isUnique": false
        },
        "users_preferences_idx": {
          "name": "users_preferences_idx",
          "columns": [
            "learning_preferences"
          ],
          "isUnique": false
        },
        "users_active_idx": {
          "name": "users_active_idx",
          "columns": [
            "is_active",
            "last_active_at"
          ],
          "isUnique": false
        },
        "users_xp_idx": {
          "name": "users_xp_idx",
          "columns": [
            "total_xp"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_email_unique": {
          "name": "users_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        }
      }
    }
  },
  "enums": {
    "content_category": {
      "name": "content_category",
      "values": {
        "traffic_signs": "traffic_signs",
        "road_rules": "road_rules",
        "safety_procedures": "safety_procedures",
        "situational_judgment": "situational_judgment",
        "vehicle_operations": "vehicle_operations",
        "parking_maneuvers": "parking_maneuvers",
        "hazard_perception": "hazard_perception"
      }
    },
    "difficulty_level": {
      "name": "difficulty_level",
      "values": {
        "beginner": "beginner",
        "intermediate": "intermediate",
        "advanced": "advanced",
        "expert": "expert"
      }
    },
    "event_type": {
      "name": "event_type",
      "values": {
        "question_answered": "question_answered",
        "session_started": "session_started",
        "session_ended": "session_ended",
        "concept_mastered": "concept_mastered",
        "achievement_unlocked": "achievement_unlocked",
        "streak_updated": "streak_updated",
        "review_scheduled": "review_scheduled"
      }
    },
    "notification_type": {
      "name": "notification_type",
      "values": {
        "reminder": "reminder",
        "achievement": "achievement",
        "social": "social",
        "system": "system",
        "marketing": "marketing"
      }
    },
    "processing_status": {
      "name": "processing_status",
      "values": {
        "pending": "pending",
        "processing": "processing",
        "completed": "completed",
        "failed": "failed"
      }
    }
  },
  "schemas": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}